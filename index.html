<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VaultBank - Your Future, is secured</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #1e3a5f 0%, #0d1b2a 50%, #1b263b 100%);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .card-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .gold-gradient {
            background: linear-gradient(135deg, #f5af19 0%, #f12711 100%);
        }
        
        .green-gradient {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        
        .sidebar-item {
            transition: all 0.3s ease;
        }
        
        .sidebar-item:hover, .sidebar-item.active {
            background: rgba(99, 102, 241, 0.2);
            border-left: 3px solid #6366f1;
        }
        
        .step-indicator {
            transition: all 0.3s ease;
        }
        
        .step-indicator.active {
            background: #6366f1;
            color: white;
        }
        
        .step-indicator.completed {
            background: #10b981;
            color: white;
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Section transition animation - 1 second */
        .section-transition {
            animation: sectionSlide 1s ease-in-out;
        }
        
        @keyframes sectionSlide {
            from { 
                opacity: 0; 
                transform: translateX(30px);
            }
            to { 
                opacity: 1; 
                transform: translateX(0);
            }
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .transaction-row:hover {
            background: rgba(99, 102, 241, 0.05);
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(99, 102, 241, 0.3);
        }
        
        .offer-card {
            transition: all 0.3s ease;
        }
        
        .offer-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        
        /* Login Loading Animation - 3 seconds */
        .login-loader {
            position: fixed;
            inset: 0;
            background: linear-gradient(135deg, #1e3a5f 0%, #0d1b2a 50%, #1b263b 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
            animation: loaderFadeOut 0.5s ease-in-out 2.5s forwards;
        }
        
        @keyframes loaderFadeOut {
            to {
                opacity: 0;
                visibility: hidden;
            }
        }
        
        .loader-circle {
            width: 80px;
            height: 80px;
            border: 4px solid rgba(255,255,255,0.1);
            border-top-color: #6366f1;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .loader-text {
            color: white;
            margin-top: 20px;
            font-size: 18px;
            animation: textPulse 1.5s ease-in-out infinite;
        }
        
        @keyframes textPulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        
        .loader-progress {
            width: 200px;
            height: 4px;
            background: rgba(255,255,255,0.1);
            border-radius: 2px;
            margin-top: 20px;
            overflow: hidden;
        }
        
        .loader-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            animation: progressFill 2.5s ease-in-out forwards;
        }
        
        @keyframes progressFill {
            from { width: 0%; }
            to { width: 100%; }
        }
        
        /* Mobile Menu Slide from Right */
        .mobile-menu-overlay {
            transition: opacity 0.3s ease;
        }
        
        .mobile-menu-panel {
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .mobile-menu-panel.open {
            transform: translateX(0);
        }
        
        /* Quick Action Card Hover */
        .quick-action-card {
            transition: all 0.3s ease;
        }
        
        .quick-action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        /* Stats Card Animation */
        .stats-card {
            transition: all 0.3s ease;
        }
        
        .stats-card:hover {
            transform: scale(1.02);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Login Loading Screen -->
    <div id="loginLoader" class="login-loader hidden">
        <div class="w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center mb-4">
            <i class="bi bi-bank2 text-white text-3xl"></i>
        </div>
        <div class="loader-circle"></div>
        <p class="loader-text">Securing your session...</p>
        <div class="loader-progress">
            <div class="loader-progress-bar"></div>
        </div>
    </div>

    <!-- Landing Page -->
    <div id="landingPage" class="min-h-screen gradient-bg relative overflow-hidden">
        <!-- Decorative Elements -->
        <div class="absolute top-0 right-0 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl"></div>
        <div class="absolute bottom-0 left-0 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl"></div>
        
        <!-- Navigation -->
        <nav class="relative z-10 px-6 py-4">
            <div class="max-w-7xl mx-auto flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center">
                        <i class="bi bi-bank2 text-white text-2xl"></i>
                    </div>
                    <span class="text-2xl font-bold text-white">VaultBank</span>
                </div>
                <div class="hidden md:flex items-center gap-8">
                    <a href="#" class="text-gray-300 hover:text-white transition">Personal</a>
                    <a href="#" class="text-gray-300 hover:text-white transition">Business</a>
                    <a href="#" class="text-gray-300 hover:text-white transition">Loans</a>
                    <a href="#" class="text-gray-300 hover:text-white transition">Support</a>
                </div>
            </div>
        </nav>
        
        <!-- Hero Section -->
        <div class="relative z-10 max-w-7xl mx-auto px-6 py-12 lg:py-20">
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <!-- Left Content -->
                <div class="text-center lg:text-left">
                    <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white leading-tight mb-6">
                        Your Future,<br>
                        <span class="bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent">Vaultd.</span>
                    </h1>
                    <p class="text-gray-300 text-lg mb-8 max-w-lg mx-auto lg:mx-0">
                        Experience next-generation banking with industry-leading security, instant transfers, and smart financial tools designed for your success.
                    </p>
                    <div class="flex flex-wrap gap-4 justify-center lg:justify-start">
                        <div class="flex items-center gap-2 text-gray-300">
                            <i class="bi bi-shield-check text-green-400"></i>
                            <span>256-bit Encryption</span>
                        </div>
                        <div class="flex items-center gap-2 text-gray-300">
                            <i class="bi bi-lightning text-yellow-400"></i>
                            <span>Instant Transfers</span>
                        </div>
                        <div class="flex items-center gap-2 text-gray-300">
                            <i class="bi bi-headset text-blue-400"></i>
                            <span>24/7 Support</span>
                        </div>
                    </div>
                </div>
                
                <!-- Auth Forms -->
                <div class="glass-effect rounded-3xl p-8 max-w-md mx-auto w-full">
                    <!-- Tab Switcher -->
                    <div class="flex bg-white/10 rounded-xl p-1 mb-6">
                        <button id="loginTab" onclick="showAuthTab('login')" class="flex-1 py-3 rounded-lg font-semibold text-white bg-indigo-600 transition">Login</button>
                        <button id="registerTab" onclick="showAuthTab('register')" class="flex-1 py-3 rounded-lg font-semibold text-gray-300 transition">Register</button>
                    </div>
                    
                    <!-- Login Form -->
                    <form id="loginForm" class="space-y-4">
                        <div>
                            <label class="block text-gray-300 text-sm mb-2">Email Address</label>
                            <div class="relative">
                                <i class="bi bi-envelope absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                                <input type="email" id="loginEmail" placeholder="you@example.com" class="w-full bg-white/10 border border-white/20 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-400" required>
                            </div>
                        </div>
                        <div>
                            <label class="block text-gray-300 text-sm mb-2">Password</label>
                            <div class="relative">
                                <i class="bi bi-lock absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                                <input type="password" id="loginPassword" placeholder="••••••••" class="w-full bg-white/10 border border-white/20 rounded-xl py-3 pl-12 pr-4 text-white placeholder-gray-400" required>
                            </div>
                        </div>
                        <div class="flex items-center justify-between text-sm">
                            <label class="flex items-center gap-2 text-gray-300 cursor-pointer">
                                <input type="checkbox" class="rounded">
                                <span>Remember me</span>
                            </label>
                            <a href="#" class="text-indigo-400 hover:text-indigo-300">Forgot password?</a>
                        </div>
                        <button type="submit" class="w-full btn-primary text-white font-semibold py-3 rounded-xl">
                            Sign In <i class="bi bi-arrow-right ml-2"></i>
                        </button>
                    </form>
                    
                    <!-- Registration Form (Multi-Step) -->
                    <form id="registerForm" class="hidden">
                        <!-- Step Indicators -->
                        <div class="flex items-center justify-center gap-4 mb-6">
                            <div class="step-indicator active w-10 h-10 rounded-full flex items-center justify-center font-semibold border-2 border-gray-500" data-step="1">1</div>
                            <div class="w-12 h-0.5 bg-gray-600"></div>
                            <div class="step-indicator w-10 h-10 rounded-full flex items-center justify-center font-semibold border-2 border-gray-500 text-gray-400" data-step="2">2</div>
                            <div class="w-12 h-0.5 bg-gray-600"></div>
                            <div class="step-indicator w-10 h-10 rounded-full flex items-center justify-center font-semibold border-2 border-gray-500 text-gray-400" data-step="3">3</div>
                        </div>
                        
                        <!-- Step 1: Personal Details -->
                        <div id="regStep1" class="space-y-4 fade-in">
                            <h3 class="text-white font-semibold text-lg mb-4">Personal Details</h3>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-300 text-sm mb-2">First Name</label>
                                    <input type="text" id="regFirstName" placeholder="John" class="w-full bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white placeholder-gray-400" required>
                                </div>
                                <div>
                                    <label class="block text-gray-300 text-sm mb-2">Last Name</label>
                                    <input type="text" id="regLastName" placeholder="Doe" class="w-full bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white placeholder-gray-400" required>
                                </div>
                            </div>
                            <div>
                                <label class="block text-gray-300 text-sm mb-2">Email Address</label>
                                <input type="email" id="regEmail" placeholder="you@example.com" class="w-full bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white placeholder-gray-400" required>
                            </div>
                            <div>
                                <label class="block text-gray-300 text-sm mb-2">Phone Number</label>
                                <input type="tel" id="regPhone" placeholder="+1 (555) 000-0000" class="w-full bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white placeholder-gray-400" required>
                            </div>
                            <button type="button" onclick="nextRegStep(2)" class="w-full btn-primary text-white font-semibold py-3 rounded-xl">
                                Continue <i class="bi bi-arrow-right ml-2"></i>
                            </button>
                        </div>
                        
                        <!-- Step 2: Identity Verification -->
                        <div id="regStep2" class="hidden space-y-4 fade-in">
                            <h3 class="text-white font-semibold text-lg mb-4">Identity Verification</h3>
                            <div>
                                <label class="block text-gray-300 text-sm mb-2">ID Type</label>
                                <select id="regIdType" class="w-full bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white">
                                    <option value="ssn" class="text-gray-800">Adhar Number</option>
                                    <option value="passport" class="text-gray-800">Passport</option>
                                    <option value="drivers" class="text-gray-800">Driver's License</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-gray-300 text-sm mb-2">ID Number</label>
                                <input type="text" id="regIdNumber" placeholder="XXX-XX-XXXX" class="w-full bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white placeholder-gray-400" required>
                            </div>
                            <div>
                                <label class="block text-gray-300 text-sm mb-2">Date of Birth</label>
                                <input type="date" id="regDob" class="w-full bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white" required>
                            </div>
                            <div>
                                <label class="block text-gray-300 text-sm mb-2">Address</label>
                                <input type="text" id="regAddress" placeholder="123 Main St, City, State" class="w-full bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white placeholder-gray-400" required>
                            </div>
                            <div class="flex gap-4">
                                <button type="button" onclick="prevRegStep(1)" class="flex-1 border border-gray-500 text-gray-300 font-semibold py-3 rounded-xl hover:bg-white/10 transition">
                                    <i class="bi bi-arrow-left mr-2"></i> Back
                                </button>
                                <button type="button" onclick="nextRegStep(3)" class="flex-1 btn-primary text-white font-semibold py-3 rounded-xl">
                                    Continue <i class="bi bi-arrow-right ml-2"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Step 3: Account Type & Password -->
                        <div id="regStep3" class="hidden space-y-4 fade-in">
                            <h3 class="text-white font-semibold text-lg mb-4">Account Setup</h3>
                            <div>
                                <label class="block text-gray-300 text-sm mb-2">Account Type</label>
                                <div class="grid grid-cols-2 gap-3">
                                    <label class="cursor-pointer">
                                        <input type="radio" name="accountType" value="savings" class="hidden peer" checked>
                                        <div class="border-2 border-gray-600 peer-checked:border-indigo-500 peer-checked:bg-indigo-500/20 rounded-xl p-4 text-center transition">
                                            <i class="bi bi-piggy-bank text-2xl text-indigo-400"></i>
                                            <p class="text-white font-medium mt-2">Savings</p>
                                        </div>
                                    </label>
                                    <label class="cursor-pointer">
                                        <input type="radio" name="accountType" value="checking" class="hidden peer">
                                        <div class="border-2 border-gray-600 peer-checked:border-indigo-500 peer-checked:bg-indigo-500/20 rounded-xl p-4 text-center transition">
                                            <i class="bi bi-wallet2 text-2xl text-green-400"></i>
                                            <p class="text-white font-medium mt-2">Checking</p>
                                        </div>
                                    </label>
                                </div>
                            </div>
                            <div>
                                <label class="block text-gray-300 text-sm mb-2">Create Password</label>
                                <input type="password" id="regPassword" placeholder="••••••••" class="w-full bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white placeholder-gray-400" required>
                            </div>
                            <div>
                                <label class="block text-gray-300 text-sm mb-2">Confirm Password</label>
                                <input type="password" id="regConfirmPassword" placeholder="••••••••" class="w-full bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white placeholder-gray-400" required>
                            </div>
                            <label class="flex items-start gap-3 text-gray-300 text-sm cursor-pointer">
                                <input type="checkbox" id="regTerms" class="mt-1 rounded" required>
                                <span>I agree to the <a href="#" class="text-indigo-400">Terms of Service</a> and <a href="#" class="text-indigo-400">Privacy Policy</a></span>
                            </label>
                            <div class="flex gap-4">
                                <button type="button" onclick="prevRegStep(2)" class="flex-1 border border-gray-500 text-gray-300 font-semibold py-3 rounded-xl hover:bg-white/10 transition">
                                    <i class="bi bi-arrow-left mr-2"></i> Back
                                </button>
                                <button type="submit" class="flex-1 btn-primary text-white font-semibold py-3 rounded-xl">
                                    Create Account <i class="bi bi-check-lg ml-2"></i>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Dashboard -->
    <div id="dashboard" class="hidden min-h-screen bg-gray-50">
        <div class="flex">
            <!-- Sidebar -->
            <aside class="w-64 bg-white min-h-screen shadow-lg fixed left-0 top-0 z-20 hidden lg:block">
                <div class="p-6">
                    <div class="flex items-center gap-3 mb-8">
                        <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center">
                            <i class="bi bi-bank2 text-white text-xl"></i>
                        </div>
                        <span class="text-xl font-bold text-gray-800">VaultBank</span>
                    </div>
                    
                    <nav class="space-y-1">
                        <a href="#" onclick="showSection('home')" class="sidebar-item active flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 font-medium">
                            <i class="bi bi-house-door text-xl"></i> Home
                        </a>
                        <a href="#" onclick="showSection('transfer')" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600">
                            <i class="bi bi-arrow-left-right text-xl"></i> Transfer
                        </a>
                        <a href="#" onclick="showSection('transactions')" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600">
                            <i class="bi bi-clock-history text-xl"></i> History
                        </a>
                        <a href="#" onclick="showSection('tools')" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600">
                            <i class="bi bi-calculator text-xl"></i> Tools
                        </a>
                        <a href="#" onclick="showSection('cards')" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600">
                            <i class="bi bi-credit-card text-xl"></i> Cards
                        </a>
                        <a href="#" onclick="showSection('investments')" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600">
                            <i class="bi bi-graph-up text-xl"></i> Investments
                        </a>
                        <a href="#" onclick="showSection('offers')" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600">
                            <i class="bi bi-gift text-xl"></i> Offers
                        </a>
                        <a href="#" onclick="showSection('settings')" class="sidebar-item flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600">
                            <i class="bi bi-gear text-xl"></i> Settings
                        </a>
                    </nav>
                </div>
                
                <div class="absolute bottom-0 left-0 right-0 p-6">
                    <button onclick="logout()" class="flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg w-full transition">
                        <i class="bi bi-box-arrow-left text-xl"></i> Logout
                    </button>
                </div>
            </aside>
            
            <!-- Mobile Header -->
            <div class="lg:hidden fixed top-0 left-0 right-0 bg-white shadow-md z-20 px-4 py-3">
                <div class="flex items-center justify-between">
                    <!-- Back Button -->
                    <button id="mobileBackBtn" onclick="goBack()" class="p-2 hover:bg-gray-100 rounded-lg transition hidden">
                        <i class="bi bi-arrow-left text-xl text-gray-700"></i>
                    </button>
                    <div class="flex items-center gap-2">
                        <div class="w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center">
                            <i class="bi bi-bank2 text-white"></i>
                        </div>
                        <span class="font-bold text-gray-800">VaultBank</span>
                    </div>
                    <!-- Hamburger Menu on Right -->
                    <button onclick="toggleMobileMenu()" class="p-2 hover:bg-gray-100 rounded-lg transition">
                        <i class="bi bi-list text-2xl text-gray-700"></i>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Menu - Slides from Right -->
            <div id="mobileMenu" class="fixed inset-0 z-30 lg:hidden hidden">
                <div class="mobile-menu-overlay absolute inset-0 bg-black/50" onclick="toggleMobileMenu()"></div>
                <div id="mobileMenuPanel" class="mobile-menu-panel absolute right-0 top-0 bottom-0 bg-white w-72 h-full p-6 shadow-2xl">
                    <div class="flex items-center justify-between mb-8">
                        <div class="flex items-center gap-2">
                            <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center">
                                <i class="bi bi-bank2 text-white text-xl"></i>
                            </div>
                            <span class="font-bold text-gray-800">VaultBank</span>
                        </div>
                        <button onclick="toggleMobileMenu()" class="p-2 hover:bg-gray-100 rounded-lg">
                            <i class="bi bi-x-lg text-xl text-gray-500"></i>
                        </button>
                    </div>
                    
                    <!-- User Info -->
                    <div class="bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-4 mb-6">
                        <div class="flex items-center gap-3">
                            <div class="w-12 h-12 bg-white/20 rounded-full flex items-center justify-center">
                                <i class="bi bi-person text-white text-xl"></i>
                            </div>
                            <div>
                                <p class="text-white font-semibold" id="mobileUserName">User</p>
                                <p class="text-white/70 text-sm" id="mobileUserEmail">user@email.com</p>
                            </div>
                        </div>
                    </div>
                    
                    <nav class="space-y-1">
                        <a href="#" onclick="showSection('home'); toggleMobileMenu()" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 font-medium hover:bg-indigo-50 hover:text-indigo-600 transition">
                            <i class="bi bi-house-door text-xl"></i> Home
                        </a>
                        <a href="#" onclick="showSection('transfer'); toggleMobileMenu()" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 transition">
                            <i class="bi bi-arrow-left-right text-xl"></i> Transfer
                        </a>
                        <a href="#" onclick="showSection('transactions'); toggleMobileMenu()" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 transition">
                            <i class="bi bi-clock-history text-xl"></i> History
                        </a>
                        <a href="#" onclick="showSection('tools'); toggleMobileMenu()" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 transition">
                            <i class="bi bi-calculator text-xl"></i> Tools
                        </a>
                        <a href="#" onclick="showSection('cards'); toggleMobileMenu()" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 transition">
                            <i class="bi bi-credit-card text-xl"></i> Cards
                        </a>
                        <a href="#" onclick="showSection('investments'); toggleMobileMenu()" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 transition">
                            <i class="bi bi-graph-up text-xl"></i> Investments
                        </a>
                        <a href="#" onclick="showSection('offers'); toggleMobileMenu()" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 transition">
                            <i class="bi bi-gift text-xl"></i> Offers
                        </a>
                        <a href="#" onclick="showSection('settings'); toggleMobileMenu()" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 transition">
                            <i class="bi bi-gear text-xl"></i> Settings
                        </a>
                    </nav>
                    
                    <div class="absolute bottom-6 left-6 right-6">
                        <button onclick="logout(); toggleMobileMenu()" class="flex items-center justify-center gap-3 px-4 py-3 text-red-600 bg-red-50 hover:bg-red-100 rounded-xl w-full transition font-medium">
                            <i class="bi bi-box-arrow-left text-xl"></i> Logout
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Main Content -->
            <main class="flex-1 lg:ml-64 p-4 lg:p-8 mt-14 lg:mt-0">
                <!-- Back Button for Desktop -->
                <button id="desktopBackBtn" onclick="goBack()" class="hidden mb-4 flex items-center gap-2 text-gray-600 hover:text-indigo-600 transition">
                    <i class="bi bi-arrow-left text-xl"></i>
                    <span class="font-medium">Back</span>
                </button>
                
                <!-- Home Section -->
                <section id="homeSection" class="section-transition">
                    <!-- Header -->
                    <div class="flex flex-col md:flex-row md:items-center justify-between mb-8">
                        <div>
                            <h1 class="text-2xl lg:text-3xl font-bold text-gray-800">Welcome back, <span id="userName">User</span>!</h1>
                            <p class="text-gray-500 mt-1">Here's your financial overview</p>
                        </div>
                        <div class="mt-4 md:mt-0 flex items-center gap-3">
                            <span class="text-gray-500 text-sm" id="currentDate"></span>
                            <button class="p-2 bg-white rounded-xl shadow hover:shadow-md transition relative">
                                <i class="bi bi-bell text-xl text-gray-600"></i>
                                <span class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Balance Cards -->
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <!-- Main Balance Card -->
                        <div class="card-gradient rounded-2xl p-6 text-white col-span-full lg:col-span-2">
                            <div class="flex items-center justify-between mb-4">
                                <span class="text-white/80">Total Balance</span>
                                <i class="bi bi-wallet2 text-2xl text-white/60"></i>
                            </div>
                            <h2 class="text-3xl lg:text-4xl font-bold mb-2" id="totalBalance">$0.00</h2>
                            <p class="text-white/70 text-sm">Account: <span id="accountNumber">••••••1234</span></p>
                            <div class="mt-6 flex gap-3">
                                <button onclick="showSection('transfer')" class="flex-1 bg-white/20 hover:bg-white/30 py-2 rounded-lg font-medium transition">
                                    <i class="bi bi-send mr-2"></i> Send
                                </button>
                                <button onclick="showQRCode()" class="flex-1 bg-white/20 hover:bg-white/30 py-2 rounded-lg font-medium transition">
                                    <i class="bi bi-qr-code mr-2"></i> Receive
                                </button>
                            </div>
                        </div>
                        
                        <!-- Income Card -->
                        <div class="bg-white rounded-2xl p-6 shadow-sm stats-card">
                            <div class="flex items-center justify-between mb-4">
                                <span class="text-gray-500">Monthly Income</span>
                                <div class="w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-arrow-down-left text-green-600"></i>
                                </div>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-800" id="monthlyIncome">$0.00</h3>
                            <p class="text-green-600 text-sm mt-2"><i class="bi bi-graph-up-arrow mr-1"></i> +12.5% from last month</p>
                        </div>
                        
                        <!-- Expense Card -->
                        <div class="bg-white rounded-2xl p-6 shadow-sm stats-card">
                            <div class="flex items-center justify-between mb-4">
                                <span class="text-gray-500">Monthly Expenses</span>
                                <div class="w-10 h-10 bg-red-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-arrow-up-right text-red-600"></i>
                                </div>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-800" id="monthlyExpenses">$0.00</h3>
                            <p class="text-red-600 text-sm mt-2"><i class="bi bi-graph-down-arrow mr-1"></i> -5.2% from last month</p>
                        </div>
                    </div>
                    
                    <!-- Quick Actions Grid - More Functions -->
                    <div class="mb-8">
                        <h3 class="font-semibold text-gray-800 mb-4 text-lg">Quick Actions</h3>
                        <div class="grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4">
                            <button onclick="showSection('transfer')" class="quick-action-card flex flex-col items-center gap-2 p-4 bg-white rounded-xl shadow-sm hover:shadow-md">
                                <div class="w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-send text-indigo-600 text-xl"></i>
                                </div>
                                <span class="text-xs text-gray-600 font-medium">Transfer</span>
                            </button>
                            <button onclick="showSection('cards')" class="quick-action-card flex flex-col items-center gap-2 p-4 bg-white rounded-xl shadow-sm hover:shadow-md">
                                <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-credit-card text-purple-600 text-xl"></i>
                                </div>
                                <span class="text-xs text-gray-600 font-medium">Cards</span>
                            </button>
                            <button class="quick-action-card flex flex-col items-center gap-2 p-4 bg-white rounded-xl shadow-sm hover:shadow-md">
                                <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-phone text-green-600 text-xl"></i>
                                </div>
                                <span class="text-xs text-gray-600 font-medium">Recharge</span>
                            </button>
                            <button class="quick-action-card flex flex-col items-center gap-2 p-4 bg-white rounded-xl shadow-sm hover:shadow-md">
                                <div class="w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-lightbulb text-yellow-600 text-xl"></i>
                                </div>
                                <span class="text-xs text-gray-600 font-medium">Bills</span>
                            </button>
                            <button onclick="showSection('tools')" class="quick-action-card flex flex-col items-center gap-2 p-4 bg-white rounded-xl shadow-sm hover:shadow-md">
                                <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-calculator text-blue-600 text-xl"></i>
                                </div>
                                <span class="text-xs text-gray-600 font-medium">Calculator</span>
                            </button>
                            <button onclick="showSection('investments')" class="quick-action-card flex flex-col items-center gap-2 p-4 bg-white rounded-xl shadow-sm hover:shadow-md">
                                <div class="w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-graph-up text-emerald-600 text-xl"></i>
                                </div>
                                <span class="text-xs text-gray-600 font-medium">Invest</span>
                            </button>
                            <button class="quick-action-card flex flex-col items-center gap-2 p-4 bg-white rounded-xl shadow-sm hover:shadow-md">
                                <div class="w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-shield-check text-orange-600 text-xl"></i>
                                </div>
                                <span class="text-xs text-gray-600 font-medium">Insurance</span>
                            </button>
                            <button onclick="showSection('offers')" class="quick-action-card flex flex-col items-center gap-2 p-4 bg-white rounded-xl shadow-sm hover:shadow-md">
                                <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-gift text-red-600 text-xl"></i>
                                </div>
                                <span class="text-xs text-gray-600 font-medium">Offers</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Spending Analytics & Recent Transactions -->
                    <div class="grid lg:grid-cols-3 gap-6 mb-8">
                        <!-- Spending by Category -->
                        <div class="bg-white rounded-2xl p-6 shadow-sm">
                            <h3 class="font-semibold text-gray-800 mb-4">Spending by Category</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                            <i class="bi bi-cart text-blue-600"></i>
                                        </div>
                                        <span class="text-gray-700">Shopping</span>
                                    </div>
                                    <span class="font-semibold text-gray-800">$450</span>
                                </div>
                                <div class="w-full bg-gray-100 rounded-full h-2">
                                    <div class="bg-blue-500 h-2 rounded-full" style="width: 65%"></div>
                                </div>
                                
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                            <i class="bi bi-basket text-green-600"></i>
                                        </div>
                                        <span class="text-gray-700">Groceries</span>
                                    </div>
                                    <span class="font-semibold text-gray-800">$280</span>
                                </div>
                                <div class="w-full bg-gray-100 rounded-full h-2">
                                    <div class="bg-green-500 h-2 rounded-full" style="width: 45%"></div>
                                </div>
                                
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center">
                                            <i class="bi bi-cup-hot text-yellow-600"></i>
                                        </div>
                                        <span class="text-gray-700">Food & Dining</span>
                                    </div>
                                    <span class="font-semibold text-gray-800">$180</span>
                                </div>
                                <div class="w-full bg-gray-100 rounded-full h-2">
                                    <div class="bg-yellow-500 h-2 rounded-full" style="width: 30%"></div>
                                </div>
                                
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                                            <i class="bi bi-film text-purple-600"></i>
                                        </div>
                                        <span class="text-gray-700">Entertainment</span>
                                    </div>
                                    <span class="font-semibold text-gray-800">$120</span>
                                </div>
                                <div class="w-full bg-gray-100 rounded-full h-2">
                                    <div class="bg-purple-500 h-2 rounded-full" style="width: 20%"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Recent Transactions -->
                        <div class="bg-white rounded-2xl p-6 shadow-sm lg:col-span-2">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-semibold text-gray-800">Recent Transactions</h3>
                                <button onclick="showSection('transactions')" class="text-indigo-600 text-sm hover:underline">View All</button>
                            </div>
                            <div class="space-y-3" id="recentTransactions">
                                <!-- Transactions will be loaded here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Savings Goals & Rewards -->
                    <div class="grid lg:grid-cols-2 gap-6">
                        <!-- Savings Goals -->
                        <div class="bg-white rounded-2xl p-6 shadow-sm">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-semibold text-gray-800">Savings Goals</h3>
                                <button class="text-indigo-600 text-sm hover:underline">+ Add Goal</button>
                            </div>
                            <div class="space-y-4">
                                <div class="p-4 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center gap-3">
                                            <div class="w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center">
                                                <i class="bi bi-airplane text-indigo-600"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium text-gray-800">Vacation</p>
                                                <p class="text-sm text-gray-500">$3,200 / $5,000</p>
                                            </div>
                                        </div>
                                        <span class="text-indigo-600 font-semibold">64%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-indigo-500 h-2 rounded-full" style="width: 64%"></div>
                                    </div>
                                </div>
                                <div class="p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl">
                                    <div class="flex items-center justify-between mb-2">
                                        <div class="flex items-center gap-3">
                                            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                                <i class="bi bi-car-front text-green-600"></i>
                                            </div>
                                            <div>
                                                <p class="font-medium text-gray-800">New Car</p>
                                                <p class="text-sm text-gray-500">$12,000 / $30,000</p>
                                            </div>
                                        </div>
                                        <span class="text-green-600 font-semibold">40%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-green-500 h-2 rounded-full" style="width: 40%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Rewards & Cashback -->
                        <div class="bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl p-6 text-white">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-semibold">Rewards & Cashback</h3>
                                <i class="bi bi-stars text-2xl"></i>
                            </div>
                            <div class="text-center py-4">
                                <p class="text-white/80 text-sm mb-2">Available Points</p>
                                <h2 class="text-4xl font-bold mb-2">12,450</h2>
                                <p class="text-white/70 text-sm">Worth $124.50</p>
                            </div>
                            <div class="flex gap-3 mt-4">
                                <button class="flex-1 bg-white/20 hover:bg-white/30 py-2 rounded-lg font-medium transition">
                                    Redeem
                                </button>
                                <button class="flex-1 bg-white/20 hover:bg-white/30 py-2 rounded-lg font-medium transition">
                                    History
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Transfer Section -->
                <section id="transferSection" class="hidden section-transition">
                    <div class="max-w-2xl mx-auto">
                        <h1 class="text-2xl lg:text-3xl font-bold text-gray-800 mb-2">Transfer Funds</h1>
                        <p class="text-gray-500 mb-8">Send money instantly to any account</p>
                        
                        <div class="bg-white rounded-2xl p-6 lg:p-8 shadow-sm">
                            <form id="transferForm" class="space-y-6">
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">Recipient Account Number</label>
                                    <input type="text" id="recipientAccount" placeholder="Enter account number" class="w-full border border-gray-300 rounded-xl py-3 px-4 focus:ring-2 focus:ring-indigo-500" required>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">Recipient Name</label>
                                    <input type="text" id="recipientName" placeholder="Enter recipient name" class="w-full border border-gray-300 rounded-xl py-3 px-4 focus:ring-2 focus:ring-indigo-500" required>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">Amount</label>
                                    <div class="relative">
                                        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-semibold">$</span>
                                        <input type="number" id="transferAmount" placeholder="0.00" step="0.01" min="0.01" class="w-full border border-gray-300 rounded-xl py-3 pl-8 pr-4 focus:ring-2 focus:ring-indigo-500" required>
                                    </div>
                                    <p class="text-sm text-gray-500 mt-2">Available balance: <span id="availableBalance" class="font-semibold text-green-600">$0.00</span></p>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 font-medium mb-2">Description (Optional)</label>
                                    <input type="text" id="transferDescription" placeholder="What's this for?" class="w-full border border-gray-300 rounded-xl py-3 px-4">
                                </div>
                                
                                <div id="transferError" class="hidden bg-red-100 text-red-700 p-4 rounded-xl">
                                    <i class="bi bi-exclamation-circle mr-2"></i>
                                    <span id="transferErrorText"></span>
                                </div>
                                
                                <button type="submit" class="w-full btn-primary text-white font-semibold py-4 rounded-xl text-lg">
                                    <i class="bi bi-send mr-2"></i> Send Money
                                </button>
                            </form>
                        </div>
                    </div>
                </section>
                
                <!-- Transactions Section -->
                <section id="transactionsSection" class="hidden section-transition">
                    <h1 class="text-2xl lg:text-3xl font-bold text-gray-800 mb-2">Transaction History</h1>
                    <p class="text-gray-500 mb-8">View all your past transactions</p>
                    
                    <div class="bg-white rounded-2xl shadow-sm overflow-hidden">
                        <div class="p-4 border-b border-gray-100 flex flex-col sm:flex-row gap-4 items-center justify-between">
                            <div class="flex gap-2">
                                <button class="px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg font-medium">All</button>
                                <button class="px-4 py-2 hover:bg-gray-100 rounded-lg text-gray-600">Income</button>
                                <button class="px-4 py-2 hover:bg-gray-100 rounded-lg text-gray-600">Expense</button>
                            </div>
                            <div class="relative">
                                <i class="bi bi-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                                <input type="text" placeholder="Search transactions..." class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500">
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="text-left py-4 px-6 text-gray-600 font-semibold">Date</th>
                                        <th class="text-left py-4 px-6 text-gray-600 font-semibold">Description</th>
                                        <th class="text-left py-4 px-6 text-gray-600 font-semibold">Type</th>
                                        <th class="text-right py-4 px-6 text-gray-600 font-semibold">Amount</th>
                                    </tr>
                                </thead>
                                <tbody id="transactionTable">
                                    <!-- Transactions will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
                
                <!-- Financial Tools Section -->
                <section id="toolsSection" class="hidden section-transition">
                    <h1 class="text-2xl lg:text-3xl font-bold text-gray-800 mb-2">Financial Tools</h1>
                    <p class="text-gray-500 mb-8">Calculate and plan your finances</p>
                    
                    <div class="grid lg:grid-cols-2 gap-6">
                        <!-- Loan Calculator -->
                        <div class="bg-white rounded-2xl p-6 shadow-sm">
                            <div class="flex items-center gap-3 mb-6">
                                <div class="w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-bank text-indigo-600 text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-800">Loan Calculator</h3>
                                    <p class="text-gray-500 text-sm">Calculate your EMI</p>
                                </div>
                            </div>
                            
                            <form id="loanCalcForm" class="space-y-4">
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-2">Principal Amount ($)</label>
                                    <input type="number" id="loanPrincipal" placeholder="100000" class="w-full border border-gray-300 rounded-xl py-3 px-4" required>
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-2">Interest Rate (% per year)</label>
                                    <input type="number" id="loanInterest" placeholder="8.5" step="0.1" class="w-full border border-gray-300 rounded-xl py-3 px-4" required>
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-2">Tenure (Months)</label>
                                    <input type="number" id="loanTenure" placeholder="60" class="w-full border border-gray-300 rounded-xl py-3 px-4" required>
                                </div>
                                <button type="submit" class="w-full btn-primary text-white font-semibold py-3 rounded-xl">
                                    Calculate EMI
                                </button>
                            </form>
                            
                            <div id="loanResult" class="hidden mt-6 p-4 bg-indigo-50 rounded-xl">
                                <div class="grid grid-cols-2 gap-4 text-center">
                                    <div>
                                        <p class="text-gray-500 text-sm">Monthly EMI</p>
                                        <p class="text-2xl font-bold text-indigo-600" id="loanEMI">$0</p>
                                    </div>
                                    <div>
                                        <p class="text-gray-500 text-sm">Total Interest</p>
                                        <p class="text-2xl font-bold text-red-600" id="loanTotalInterest">$0</p>
                                    </div>
                                </div>
                                <div class="mt-4 text-center">
                                    <p class="text-gray-500 text-sm">Total Payment</p>
                                    <p class="text-xl font-bold text-gray-800" id="loanTotalPayment">$0</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- FD Calculator -->
                        <div class="bg-white rounded-2xl p-6 shadow-sm">
                            <div class="flex items-center gap-3 mb-6">
                                <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-piggy-bank text-green-600 text-xl"></i>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-800">Fixed Deposit Calculator</h3>
                                    <p class="text-gray-500 text-sm">Estimate your FD returns</p>
                                </div>
                            </div>
                            
                            <form id="fdCalcForm" class="space-y-4">
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-2">Deposit Amount ($)</label>
                                    <input type="number" id="fdPrincipal" placeholder="50000" class="w-full border border-gray-300 rounded-xl py-3 px-4" required>
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-2">Interest Rate (% per year)</label>
                                    <input type="number" id="fdInterest" placeholder="6.5" step="0.1" class="w-full border border-gray-300 rounded-xl py-3 px-4" required>
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-medium mb-2">Tenure (Years)</label>
                                    <input type="number" id="fdTenure" placeholder="5" class="w-full border border-gray-300 rounded-xl py-3 px-4" required>
                                </div>
                                <button type="submit" class="w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-3 rounded-xl transition">
                                    Calculate Returns
                                </button>
                            </form>
                            
                            <div id="fdResult" class="hidden mt-6 p-4 bg-green-50 rounded-xl">
                                <div class="grid grid-cols-2 gap-4 text-center">
                                    <div>
                                        <p class="text-gray-500 text-sm">Interest Earned</p>
                                        <p class="text-2xl font-bold text-green-600" id="fdInterestEarned">$0</p>
                                    </div>
                                    <div>
                                        <p class="text-gray-500 text-sm">Maturity Amount</p>
                                        <p class="text-2xl font-bold text-indigo-600" id="fdMaturity">$0</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Cards Section -->
                <section id="cardsSection" class="hidden section-transition">
                    <h1 class="text-2xl lg:text-3xl font-bold text-gray-800 mb-2">My Cards</h1>
                    <p class="text-gray-500 mb-8">Manage your debit and credit cards</p>
                    
                    <div class="grid lg:grid-cols-2 gap-6">
                        <!-- Virtual Card -->
                        <div class="card-gradient rounded-2xl p-6 text-white relative overflow-hidden">
                            <div class="absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2"></div>
                            <div class="absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full translate-y-1/2 -translate-x-1/2"></div>
                            
                            <div class="relative z-10">
                                <div class="flex justify-between items-start mb-8">
                                    <div>
                                        <p class="text-white/70 text-sm">VaultBank</p>
                                        <p class="font-semibold">Virtual Card</p>
                                    </div>
                                    <i class="bi bi-credit-card-2-front text-3xl text-white/70"></i>
                                </div>
                                <p class="text-2xl font-mono tracking-widest mb-6" id="cardNumber">•••• •••• •••• 4532</p>
                                <div class="flex justify-between items-end">
                                    <div>
                                        <p class="text-white/70 text-xs">Card Holder</p>
                                        <p class="font-medium" id="cardHolder">DEMO USER</p>
                                    </div>
                                    <div>
                                        <p class="text-white/70 text-xs">Expires</p>
                                        <p class="font-medium">12/28</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-2xl font-bold">VISA</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Card Actions -->
                        <div class="bg-white rounded-2xl p-6 shadow-sm">
                            <h3 class="font-semibold text-gray-800 mb-4">Card Actions</h3>
                            <div class="space-y-3">
                                <button class="w-full flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center">
                                            <i class="bi bi-eye text-indigo-600"></i>
                                        </div>
                                        <span class="font-medium text-gray-700">View Card Details</span>
                                    </div>
                                    <i class="bi bi-chevron-right text-gray-400"></i>
                                </button>
                                <button class="w-full flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                            <i class="bi bi-lock text-green-600"></i>
                                        </div>
                                        <span class="font-medium text-gray-700">Lock/Unlock Card</span>
                                    </div>
                                    <i class="bi bi-chevron-right text-gray-400"></i>
                                </button>
                                <button class="w-full flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center">
                                            <i class="bi bi-sliders text-yellow-600"></i>
                                        </div>
                                        <span class="font-medium text-gray-700">Set Spending Limits</span>
                                    </div>
                                    <i class="bi bi-chevron-right text-gray-400"></i>
                                </button>
                                <button class="w-full flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center">
                                            <i class="bi bi-exclamation-triangle text-red-600"></i>
                                        </div>
                                        <span class="font-medium text-gray-700">Report Lost/Stolen</span>
                                    </div>
                                    <i class="bi bi-chevron-right text-gray-400"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Investments Section -->
                <section id="investmentsSection" class="hidden section-transition">
                    <h1 class="text-2xl lg:text-3xl font-bold text-gray-800 mb-2">Investments</h1>
                    <p class="text-gray-500 mb-8">Grow your wealth with smart investments</p>
                    
                    <div class="grid lg:grid-cols-3 gap-6 mb-8">
                        <div class="bg-white rounded-2xl p-6 shadow-sm">
                            <div class="flex items-center justify-between mb-4">
                                <span class="text-gray-500">Total Invested</span>
                                <div class="w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-piggy-bank text-indigo-600"></i>
                                </div>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-800">$15,450.00</h3>
                            <p class="text-green-600 text-sm mt-2"><i class="bi bi-graph-up-arrow mr-1"></i> +8.5% returns</p>
                        </div>
                        
                        <div class="bg-white rounded-2xl p-6 shadow-sm">
                            <div class="flex items-center justify-between mb-4">
                                <span class="text-gray-500">Current Value</span>
                                <div class="w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-graph-up text-green-600"></i>
                                </div>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-800">$16,763.25</h3>
                            <p class="text-green-600 text-sm mt-2">+$1,313.25 profit</p>
                        </div>
                        
                        <div class="bg-white rounded-2xl p-6 shadow-sm">
                            <div class="flex items-center justify-between mb-4">
                                <span class="text-gray-500">Active SIPs</span>
                                <div class="w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center">
                                    <i class="bi bi-calendar-check text-purple-600"></i>
                                </div>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-800">3</h3>
                            <p class="text-gray-500 text-sm mt-2">$500/month</p>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-2xl p-6 shadow-sm">
                        <h3 class="font-semibold text-gray-800 mb-4">Investment Options</h3>
                        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                            <button class="p-4 border border-gray-200 rounded-xl hover:border-indigo-500 hover:bg-indigo-50 transition text-left">
                                <div class="w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center mb-3">
                                    <i class="bi bi-bank text-indigo-600 text-xl"></i>
                                </div>
                                <h4 class="font-medium text-gray-800">Mutual Funds</h4>
                                <p class="text-sm text-gray-500">Diversified portfolio</p>
                            </button>
                            <button class="p-4 border border-gray-200 rounded-xl hover:border-green-500 hover:bg-green-50 transition text-left">
                                <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mb-3">
                                    <i class="bi bi-graph-up-arrow text-green-600 text-xl"></i>
                                </div>
                                <h4 class="font-medium text-gray-800">Stocks</h4>
                                <p class="text-sm text-gray-500">Direct equity</p>
                            </button>
                            <button class="p-4 border border-gray-200 rounded-xl hover:border-yellow-500 hover:bg-yellow-50 transition text-left">
                                <div class="w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center mb-3">
                                    <i class="bi bi-coin text-yellow-600 text-xl"></i>
                                </div>
                                <h4 class="font-medium text-gray-800">Gold</h4>
                                <p class="text-sm text-gray-500">Digital gold</p>
                            </button>
                            <button class="p-4 border border-gray-200 rounded-xl hover:border-purple-500 hover:bg-purple-50 transition text-left">
                                <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mb-3">
                                    <i class="bi bi-shield-check text-purple-600 text-xl"></i>
                                </div>
                                <h4 class="font-medium text-gray-800">Bonds</h4>
                                <p class="text-sm text-gray-500">Fixed income</p>
                            </button>
                        </div>
                    </div>
                </section>
                
                <!-- Offers Section -->
                <section id="offersSection" class="hidden section-transition">
                    <h1 class="text-2xl lg:text-3xl font-bold text-gray-800 mb-2">Exclusive Offers</h1>
                    <p class="text-gray-500 mb-8">Special deals curated just for you</p>
                    
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Offer Cards -->
                        <div class="offer-card bg-white rounded-2xl overflow-hidden shadow-sm">
                            <div class="h-32 card-gradient flex items-center justify-center">
                                <i class="bi bi-credit-card-2-front text-white text-5xl"></i>
                            </div>
                            <div class="p-6">
                                <span class="inline-block px-3 py-1 bg-indigo-100 text-indigo-700 text-xs font-semibold rounded-full mb-3">CREDIT CARD</span>
                                <h3 class="font-semibold text-gray-800 text-lg mb-2">Platinum Rewards Card</h3>
                                <p class="text-gray-500 text-sm mb-4">Earn 5X rewards on travel, dining & entertainment.</p>
                                <button class="w-full py-2 border-2 border-indigo-600 text-indigo-600 font-semibold rounded-xl hover:bg-indigo-600 hover:text-white transition">
                                    Apply Now
                                </button>
                            </div>
                        </div>
                        
                        <div class="offer-card bg-white rounded-2xl overflow-hidden shadow-sm">
                            <div class="h-32 gold-gradient flex items-center justify-center">
                                <i class="bi bi-house text-white text-5xl"></i>
                            </div>
                            <div class="p-6">
                                <span class="inline-block px-3 py-1 bg-yellow-100 text-yellow-700 text-xs font-semibold rounded-full mb-3">HOME LOAN</span>
                                <h3 class="font-semibold text-gray-800 text-lg mb-2">Dream Home Loan</h3>
                                <p class="text-gray-500 text-sm mb-4">Get your dream home with rates from 6.5% p.a.</p>
                                <button class="w-full py-2 border-2 border-yellow-600 text-yellow-600 font-semibold rounded-xl hover:bg-yellow-600 hover:text-white transition">
                                    Learn More
                                </button>
                            </div>
                        </div>
                        
                        <div class="offer-card bg-white rounded-2xl overflow-hidden shadow-sm">
                            <div class="h-32 green-gradient flex items-center justify-center">
                                <i class="bi bi-car-front text-white text-5xl"></i>
                            </div>
                            <div class="p-6">
                                <span class="inline-block px-3 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-full mb-3">AUTO LOAN</span>
                                <h3 class="font-semibold text-gray-800 text-lg mb-2">Drive Your Dream</h3>
                                <p class="text-gray-500 text-sm mb-4">Low-rate auto loans with quick approval.</p>
                                <button class="w-full py-2 border-2 border-green-600 text-green-600 font-semibold rounded-xl hover:bg-green-600 hover:text-white transition">
                                    Get Pre-Approved
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Settings Section -->
                <section id="settingsSection" class="hidden section-transition">
                    <h1 class="text-2xl lg:text-3xl font-bold text-gray-800 mb-2">Settings</h1>
                    <p class="text-gray-500 mb-8">Manage your account preferences</p>
                    
                    <div class="max-w-2xl space-y-6">
                        <div class="bg-white rounded-2xl p-6 shadow-sm">
                            <h3 class="font-semibold text-gray-800 mb-4">Profile Information</h3>
                            <div class="flex items-center gap-4 mb-6">
                                <div class="w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center">
                                    <i class="bi bi-person text-indigo-600 text-3xl"></i>
                                </div>
                                <div>
                                    <p class="font-semibold text-gray-800" id="settingsUserName">User Name</p>
                                    <p class="text-gray-500" id="settingsUserEmail">user@email.com</p>
                                </div>
                            </div>
                            <button class="px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition">Edit Profile</button>
                        </div>
                        
                        <div class="bg-white rounded-2xl p-6 shadow-sm">
                            <h3 class="font-semibold text-gray-800 mb-4">Security</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between py-3 border-b border-gray-100">
                                    <div>
                                        <p class="font-medium text-gray-700">Two-Factor Authentication</p>
                                        <p class="text-sm text-gray-500">Add an extra layer of security</p>
                                    </div>
                                    <label class="relative inline-flex items-center cursor-pointer">
                                        <input type="checkbox" class="sr-only peer">
                                        <div class="w-11 h-6 bg-gray-200 peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"></div>
                                    </label>
                                </div>
                                <div class="flex items-center justify-between py-3">
                                    <div>
                                        <p class="font-medium text-gray-700">Change Password</p>
                                        <p class="text-sm text-gray-500">Last changed 30 days ago</p>
                                    </div>
                                    <button class="px-4 py-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition">Change</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>
    
    <!-- Success Modal -->
    <div id="successModal" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full text-center fade-in">
            <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <i class="bi bi-check-lg text-green-600 text-4xl"></i>
            </div>
            <h3 class="text-2xl font-bold text-gray-800 mb-2" id="modalTitle">Success!</h3>
            <p class="text-gray-500 mb-6" id="modalMessage">Your action was completed successfully.</p>
            <button onclick="closeModal()" class="w-full btn-primary text-white font-semibold py-3 rounded-xl">
                Continue
            </button>
        </div>
    </div>
    
    <!-- QR Code Modal -->
    <div id="qrModal" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-8 max-w-sm w-full text-center fade-in">
            <button onclick="closeQRModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                <i class="bi bi-x-lg text-xl"></i>
            </button>
            <h3 class="text-xl font-bold text-gray-800 mb-4">Receive Money</h3>
            <div class="bg-gray-100 rounded-xl p-6 mb-4">
                <div class="w-48 h-48 mx-auto bg-white rounded-lg flex items-center justify-center">
                    <i class="bi bi-qr-code text-8xl text-gray-800"></i>
                </div>
            </div>
            <p class="text-gray-500 text-sm mb-2">Scan to pay</p>
            <p class="font-mono text-lg text-gray-800" id="qrAccountNumber">1234567890</p>
            <button onclick="closeQRModal()" class="w-full btn-primary text-white font-semibold py-3 rounded-xl mt-4">
                Close
            </button>
        </div>
    </div>

    <script>
        // Application State
        let currentUser = null;
        let users = JSON.parse(localStorage.getItem('bankUsers')) || [];
        let transactions = JSON.parse(localStorage.getItem('bankTransactions')) || [];
        let navigationHistory = ['home'];
        let currentSection = 'home';
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateCurrentDate();
            checkSession();
            setupEventListeners();
        });
        
        function updateCurrentDate() {
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('currentDate').textContent = new Date().toLocaleDateString('en-US', options);
        }
        
        function checkSession() {
            const session = localStorage.getItem('bankSession');
            if (session) {
                currentUser = JSON.parse(session);
                showDashboard(false); // Don't show loader on page refresh
            }
        }
        
        function setupEventListeners() {
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            document.getElementById('registerForm').addEventListener('submit', handleRegister);
            document.getElementById('transferForm').addEventListener('submit', handleTransfer);
            document.getElementById('loanCalcForm').addEventListener('submit', calculateLoan);
            document.getElementById('fdCalcForm').addEventListener('submit', calculateFD);
        }
        
        // Auth Tab Switching
        function showAuthTab(tab) {
            const loginTab = document.getElementById('loginTab');
            const registerTab = document.getElementById('registerTab');
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            
            if (tab === 'login') {
                loginTab.classList.add('bg-indigo-600', 'text-white');
                loginTab.classList.remove('text-gray-300');
                registerTab.classList.remove('bg-indigo-600', 'text-white');
                registerTab.classList.add('text-gray-300');
                loginForm.classList.remove('hidden');
                registerForm.classList.add('hidden');
            } else {
                registerTab.classList.add('bg-indigo-600', 'text-white');
                registerTab.classList.remove('text-gray-300');
                loginTab.classList.remove('bg-indigo-600', 'text-white');
                loginTab.classList.add('text-gray-300');
                registerForm.classList.remove('hidden');
                loginForm.classList.add('hidden');
            }
        }
        
        // Multi-Step Registration
        function nextRegStep(step) {
            if (step === 2) {
                const firstName = document.getElementById('regFirstName').value;
                const lastName = document.getElementById('regLastName').value;
                const email = document.getElementById('regEmail').value;
                const phone = document.getElementById('regPhone').value;
                
                if (!firstName || !lastName || !email || !phone) {
                    alert('Please fill in all fields');
                    return;
                }
                
                if (users.find(u => u.email === email)) {
                    alert('Email already registered');
                    return;
                }
            }
            
            if (step === 3) {
                const idNumber = document.getElementById('regIdNumber').value;
                const dob = document.getElementById('regDob').value;
                const address = document.getElementById('regAddress').value;
                
                if (!idNumber || !dob || !address) {
                    alert('Please fill in all fields');
                    return;
                }
            }
            
            document.getElementById('regStep1').classList.add('hidden');
            document.getElementById('regStep2').classList.add('hidden');
            document.getElementById('regStep3').classList.add('hidden');
            document.getElementById(`regStep${step}`).classList.remove('hidden');
            updateStepIndicators(step);
        }
        
        function prevRegStep(step) {
            document.getElementById('regStep1').classList.add('hidden');
            document.getElementById('regStep2').classList.add('hidden');
            document.getElementById('regStep3').classList.add('hidden');
            document.getElementById(`regStep${step}`).classList.remove('hidden');
            updateStepIndicators(step);
        }
        
        function updateStepIndicators(currentStep) {
            const indicators = document.querySelectorAll('.step-indicator');
            indicators.forEach((ind, index) => {
                const step = index + 1;
                ind.classList.remove('active', 'completed');
                if (step < currentStep) {
                    ind.classList.add('completed');
                } else if (step === currentStep) {
                    ind.classList.add('active');
                }
            });
        }
        
        // Handle Login with 3-second animation
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('bankSession', JSON.stringify(user));
                showLoginLoader();
            } else {
                if (email === 'demo@bank.com' && password === 'demo123') {
                    const demoUser = {
                        id: 'demo-001',
                        firstName: 'Demo',
                        lastName: 'User',
                        email: 'demo@bank.com',
                        password: 'demo123',
                        accountNumber: '1234567890',
                        accountType: 'savings',
                        balance: 25000.00
                    };
                    users.push(demoUser);
                    localStorage.setItem('bankUsers', JSON.stringify(users));
                    currentUser = demoUser;
                    localStorage.setItem('bankSession', JSON.stringify(demoUser));
                    addDemoTransactions();
                    showLoginLoader();
                } else {
                    alert('Invalid credentials. Use demo@bank.com / demo123 for demo access.');
                }
            }
        }
        
        // Show login loader for 3 seconds
        function showLoginLoader() {
            const loader = document.getElementById('loginLoader');
            loader.classList.remove('hidden');
            
            setTimeout(() => {
                loader.classList.add('hidden');
                showDashboard(false);
            }, 3000);
        }
        
        // Handle Registration
        function handleRegister(e) {
            e.preventDefault();
            
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;
            const terms = document.getElementById('regTerms').checked;
            
            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }
            
            if (!terms) {
                alert('Please accept the terms and conditions');
                return;
            }
            
            const accountType = document.querySelector('input[name="accountType"]:checked').value;
            
            const newUser = {
                id: 'user-' + Date.now(),
                firstName: document.getElementById('regFirstName').value,
                lastName: document.getElementById('regLastName').value,
                email: document.getElementById('regEmail').value,
                phone: document.getElementById('regPhone').value,
                password: password,
                idType: document.getElementById('regIdType').value,
                idNumber: document.getElementById('regIdNumber').value,
                dob: document.getElementById('regDob').value,
                address: document.getElementById('regAddress').value,
                accountType: accountType,
                accountNumber: generateAccountNumber(),
                balance: 1000.00
            };
            
            users.push(newUser);
            localStorage.setItem('bankUsers', JSON.stringify(users));
            
            addTransaction({
                userId: newUser.id,
                type: 'credit',
                amount: 1000.00,
                description: 'Welcome Bonus',
                date: new Date().toISOString()
            });
            
            currentUser = newUser;
            localStorage.setItem('bankSession', JSON.stringify(newUser));
            
            showLoginLoader();
            setTimeout(() => {
                showModal('Welcome to VaultBank!', 'Your account has been created successfully. Account Number: ' + newUser.accountNumber);
            }, 3100);
        }
        
        function generateAccountNumber() {
            return Math.floor(1000000000 + Math.random() * 9000000000).toString();
        }
        
        // Show Dashboard
        function showDashboard(showLoader = true) {
            document.getElementById('landingPage').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            updateDashboard();
        }
        
        // Update Dashboard Data
        function updateDashboard() {
            if (!currentUser) return;
            
            document.getElementById('userName').textContent = currentUser.firstName;
            document.getElementById('totalBalance').textContent = formatCurrency(currentUser.balance);
            document.getElementById('accountNumber').textContent = '••••••' + currentUser.accountNumber.slice(-4);
            document.getElementById('availableBalance').textContent = formatCurrency(currentUser.balance);
            document.getElementById('settingsUserName').textContent = `${currentUser.firstName} ${currentUser.lastName}`;
            document.getElementById('settingsUserEmail').textContent = currentUser.email;
            document.getElementById('mobileUserName').textContent = `${currentUser.firstName} ${currentUser.lastName}`;
            document.getElementById('mobileUserEmail').textContent = currentUser.email;
            document.getElementById('cardHolder').textContent = `${currentUser.firstName} ${currentUser.lastName}`.toUpperCase();
            document.getElementById('cardNumber').textContent = `•••• •••• •••• ${currentUser.accountNumber.slice(-4)}`;
            document.getElementById('qrAccountNumber').textContent = currentUser.accountNumber;
            
            const userTransactions = transactions.filter(t => t.userId === currentUser.id);
            const currentMonth = new Date().getMonth();
            const monthlyTransactions = userTransactions.filter(t => new Date(t.date).getMonth() === currentMonth);
            
            const income = monthlyTransactions.filter(t => t.type === 'credit').reduce((sum, t) => sum + t.amount, 0);
            const expenses = monthlyTransactions.filter(t => t.type === 'debit').reduce((sum, t) => sum + t.amount, 0);
            
            document.getElementById('monthlyIncome').textContent = formatCurrency(income);
            document.getElementById('monthlyExpenses').textContent = formatCurrency(expenses);
            
            updateRecentTransactions();
            updateTransactionTable();
        }
        
        function updateRecentTransactions() {
            const container = document.getElementById('recentTransactions');
            const userTransactions = transactions.filter(t => t.userId === currentUser.id).slice(-5).reverse();
            
            if (userTransactions.length === 0) {
                container.innerHTML = '<p class="text-gray-500 text-center py-4">No transactions yet</p>';
                return;
            }
            
            container.innerHTML = userTransactions.map(t => `
                <div class="flex items-center justify-between p-3 hover:bg-gray-50 rounded-xl transition">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 ${t.type === 'credit' ? 'bg-green-100' : 'bg-red-100'} rounded-xl flex items-center justify-center">
                            <i class="bi bi-arrow-${t.type === 'credit' ? 'down-left text-green-600' : 'up-right text-red-600'}"></i>
                        </div>
                        <div>
                            <p class="font-medium text-gray-800">${t.description}</p>
                            <p class="text-sm text-gray-500">${formatDate(t.date)}</p>
                        </div>
                    </div>
                    <span class="${t.type === 'credit' ? 'text-green-600' : 'text-red-600'} font-semibold">
                        ${t.type === 'credit' ? '+' : '-'}${formatCurrency(t.amount)}
                    </span>
                </div>
            `).join('');
        }
        
        function updateTransactionTable() {
            const tbody = document.getElementById('transactionTable');
            const userTransactions = transactions.filter(t => t.userId === currentUser.id).reverse();
            
            if (userTransactions.length === 0) {
                tbody.innerHTML = '<tr><td colspan="4" class="text-center py-8 text-gray-500">No transactions found</td></tr>';
                return;
            }
            
            tbody.innerHTML = userTransactions.map(t => `
                <tr class="transaction-row border-b border-gray-100">
                    <td class="py-4 px-6 text-gray-600">${formatDate(t.date)}</td>
                    <td class="py-4 px-6 text-gray-800 font-medium">${t.description}</td>
                    <td class="py-4 px-6">
                        <span class="px-3 py-1 ${t.type === 'credit' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'} rounded-full text-sm font-medium">
                            ${t.type === 'credit' ? 'Credit' : 'Debit'}
                        </span>
                    </td>
                    <td class="py-4 px-6 text-right font-semibold ${t.type === 'credit' ? 'text-green-600' : 'text-red-600'}">
                        ${t.type === 'credit' ? '+' : '-'}${formatCurrency(t.amount)}
                    </td>
                </tr>
            `).join('');
        }
        
        // Handle Transfer
        function handleTransfer(e) {
            e.preventDefault();
            
            const recipientAccount = document.getElementById('recipientAccount').value;
            const recipientName = document.getElementById('recipientName').value;
            const amount = parseFloat(document.getElementById('transferAmount').value);
            const description = document.getElementById('transferDescription').value || `Transfer to ${recipientName}`;
            
            const errorDiv = document.getElementById('transferError');
            const errorText = document.getElementById('transferErrorText');
            
            if (amount > currentUser.balance) {
                errorDiv.classList.remove('hidden');
                errorText.textContent = 'Insufficient balance for this transfer.';
                return;
            }
            
            if (amount <= 0) {
                errorDiv.classList.remove('hidden');
                errorText.textContent = 'Please enter a valid amount.';
                return;
            }
            
            if (recipientAccount === currentUser.accountNumber) {
                errorDiv.classList.remove('hidden');
                errorText.textContent = 'Cannot transfer to your own account.';
                return;
            }
            
            errorDiv.classList.add('hidden');
            
            currentUser.balance -= amount;
            
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex] = currentUser;
                localStorage.setItem('bankUsers', JSON.stringify(users));
            }
            localStorage.setItem('bankSession', JSON.stringify(currentUser));
            
            addTransaction({
                userId: currentUser.id,
                type: 'debit',
                amount: amount,
                description: description,
                date: new Date().toISOString(),
                recipientAccount: recipientAccount,
                recipientName: recipientName
            });
            
            document.getElementById('transferForm').reset();
            showModal('Transfer Successful!', `$${amount.toFixed(2)} has been sent to ${recipientName}.`);
            updateDashboard();
            
            // Automatically go to transaction history after successful transfer
            setTimeout(() => {
                showSection('transactions');
            }, 500);
        }
        
        function addTransaction(transaction) {
            transactions.push(transaction);
            localStorage.setItem('bankTransactions', JSON.stringify(transactions));
        }
        
        function addDemoTransactions() {
            const demoTransactions = [
                { userId: 'demo-001', type: 'credit', amount: 5000, description: 'Salary Deposit', date: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString() },
                { userId: 'demo-001', type: 'debit', amount: 150, description: 'Electric Bill', date: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString() },
                { userId: 'demo-001', type: 'debit', amount: 85.50, description: 'Grocery Shopping', date: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString() },
                { userId: 'demo-001', type: 'credit', amount: 200, description: 'Refund - Amazon', date: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString() },
                { userId: 'demo-001', type: 'debit', amount: 45, description: 'Netflix Subscription', date: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString() },
                { userId: 'demo-001', type: 'credit', amount: 1500, description: 'Freelance Payment', date: new Date().toISOString() }
            ];
            
            transactions = [...transactions, ...demoTransactions];
            localStorage.setItem('bankTransactions', JSON.stringify(transactions));
        }
        
        function calculateLoan(e) {
            e.preventDefault();
            
            const principal = parseFloat(document.getElementById('loanPrincipal').value);
            const rate = parseFloat(document.getElementById('loanInterest').value) / 12 / 100;
            const tenure = parseInt(document.getElementById('loanTenure').value);
            
            const emi = (principal * rate * Math.pow(1 + rate, tenure)) / (Math.pow(1 + rate, tenure) - 1);
            const totalPayment = emi * tenure;
            const totalInterest = totalPayment - principal;
            
            document.getElementById('loanEMI').textContent = formatCurrency(emi);
            document.getElementById('loanTotalInterest').textContent = formatCurrency(totalInterest);
            document.getElementById('loanTotalPayment').textContent = formatCurrency(totalPayment);
            document.getElementById('loanResult').classList.remove('hidden');
        }
        
        function calculateFD(e) {
            e.preventDefault();
            
            const principal = parseFloat(document.getElementById('fdPrincipal').value);
            const rate = parseFloat(document.getElementById('fdInterest').value) / 100;
            const tenure = parseInt(document.getElementById('fdTenure').value);
            
            const n = 4;
            const maturity = principal * Math.pow(1 + rate / n, n * tenure);
            const interest = maturity - principal;
            
            document.getElementById('fdInterestEarned').textContent = formatCurrency(interest);
            document.getElementById('fdMaturity').textContent = formatCurrency(maturity);
            document.getElementById('fdResult').classList.remove('hidden');
        }
        
        // Show Section with 1-second animation
        function showSection(section) {
            // Track navigation history
            if (currentSection !== section) {
                navigationHistory.push(section);
                currentSection = section;
            }
            
            // Update back button visibility
            updateBackButton();
            
            // Hide all sections
            document.querySelectorAll('main > section').forEach(s => {
                s.classList.add('hidden');
                s.classList.remove('section-transition');
            });
            
            // Show selected section with animation
            const targetSection = document.getElementById(`${section}Section`);
            targetSection.classList.remove('hidden');
            
            // Trigger animation
            void targetSection.offsetWidth; // Force reflow
            targetSection.classList.add('section-transition');
            
            // Update sidebar
            document.querySelectorAll('.sidebar-item').forEach(item => item.classList.remove('active'));
            document.querySelector(`.sidebar-item[onclick="showSection('${section}')"]`)?.classList.add('active');
        }
        
        // Back button functionality
        function goBack() {
            if (navigationHistory.length > 1) {
                navigationHistory.pop(); // Remove current
                const previousSection = navigationHistory[navigationHistory.length - 1];
                currentSection = previousSection;
                
                // Hide all sections
                document.querySelectorAll('main > section').forEach(s => {
                    s.classList.add('hidden');
                    s.classList.remove('section-transition');
                });
                
                // Show previous section
                const targetSection = document.getElementById(`${previousSection}Section`);
                targetSection.classList.remove('hidden');
                void targetSection.offsetWidth;
                targetSection.classList.add('section-transition');
                
                // Update sidebar
                document.querySelectorAll('.sidebar-item').forEach(item => item.classList.remove('active'));
                document.querySelector(`.sidebar-item[onclick="showSection('${previousSection}')"]`)?.classList.add('active');
                
                updateBackButton();
            }
        }
        
        function updateBackButton() {
            const desktopBackBtn = document.getElementById('desktopBackBtn');
            const mobileBackBtn = document.getElementById('mobileBackBtn');
            
            if (navigationHistory.length > 1) {
                desktopBackBtn.classList.remove('hidden');
                desktopBackBtn.classList.add('flex');
                mobileBackBtn.classList.remove('hidden');
            } else {
                desktopBackBtn.classList.add('hidden');
                desktopBackBtn.classList.remove('flex');
                mobileBackBtn.classList.add('hidden');
            }
        }
        
        // Toggle Mobile Menu with slide animation from right
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const panel = document.getElementById('mobileMenuPanel');
            
            if (menu.classList.contains('hidden')) {
                menu.classList.remove('hidden');
                setTimeout(() => {
                    panel.classList.add('open');
                }, 10);
            } else {
                panel.classList.remove('open');
                setTimeout(() => {
                    menu.classList.add('hidden');
                }, 400);
            }
        }
        
        // Logout
        function logout() {
            localStorage.removeItem('bankSession');
            currentUser = null;
            navigationHistory = ['home'];
            currentSection = 'home';
            document.getElementById('dashboard').classList.add('hidden');
            document.getElementById('landingPage').classList.remove('hidden');
            document.getElementById('loginForm').reset();
            document.getElementById('registerForm').reset();
            updateBackButton();
        }
        
        function showModal(title, message) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalMessage').textContent = message;
            document.getElementById('successModal').classList.remove('hidden');
        }
        
        function closeModal() {
            document.getElementById('successModal').classList.add('hidden');
        }
        
        function showQRCode() {
            document.getElementById('qrModal').classList.remove('hidden');
        }
        
        function closeQRModal() {
            document.getElementById('qrModal').classList.add('hidden');
        }
        
        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD'
            }).format(amount);
        }
        
        function formatDate(dateString) {
            return new Date(dateString).toLocaleDateString('en-US', {
                month: 'short',
                day: 'numeric',
                year: 'numeric'
            });
        }
    </script>
</body>
</html>
